@model Stylobot.Website.Models.SeoMetadata

@{
    var siteUrl = Context.Request.Scheme + "://" + Context.Request.Host;
    var currentUrl = siteUrl + Context.Request.Path;
    var canonicalUrl = !string.IsNullOrWhiteSpace(Model.Canonical) ? Model.Canonical : currentUrl;
    var ogUrl = !string.IsNullOrWhiteSpace(Model.OgUrl) ? Model.OgUrl : currentUrl;

    // Ensure absolute URLs for images
    var ogImage = Model.OgImage.StartsWith("http") ? Model.OgImage : siteUrl + Model.OgImage;
    var twitterImage = Model.TwitterImage.StartsWith("http") ? Model.TwitterImage : siteUrl + Model.TwitterImage;
}

<!-- Primary Meta Tags -->
<title>@Model.Title</title>
<meta name="title" content="@Model.Title" />
<meta name="description" content="@Model.Description" />
<meta name="keywords" content="@Model.Keywords" />
<meta name="author" content="@Model.Author" />
<meta name="robots" content="@Model.Robots" />
<link rel="canonical" href="@canonicalUrl" />

<!-- Open Graph / Facebook -->
<meta property="og:type" content="@Model.OgType" />
<meta property="og:url" content="@ogUrl" />
<meta property="og:title" content="@Model.GetOgTitle()" />
<meta property="og:description" content="@Model.GetOgDescription()" />
<meta property="og:image" content="@ogImage" />
<meta property="og:image:alt" content="@Model.OgImageAlt" />
<meta property="og:image:width" content="@Model.OgImageWidth" />
<meta property="og:image:height" content="@Model.OgImageHeight" />
<meta property="og:site_name" content="@Model.OgSiteName" />
<meta property="og:locale" content="en_US" />

@if (!string.IsNullOrWhiteSpace(Model.ArticlePublishedTime))
{
    <meta property="article:published_time" content="@Model.ArticlePublishedTime" />
}

@if (!string.IsNullOrWhiteSpace(Model.ArticleModifiedTime))
{
    <meta property="article:modified_time" content="@Model.ArticleModifiedTime" />
}

@foreach (var tag in Model.ArticleTags)
{
    <meta property="article:tag" content="@tag" />
}

<!-- Twitter -->
<meta name="twitter:card" content="@Model.TwitterCard" />
<meta name="twitter:url" content="@ogUrl" />
<meta name="twitter:title" content="@Model.GetTwitterTitle()" />
<meta name="twitter:description" content="@Model.GetTwitterDescription()" />
<meta name="twitter:image" content="@twitterImage" />
<meta name="twitter:image:alt" content="@Model.TwitterImageAlt" />
<meta name="twitter:site" content="@Model.TwitterSite" />
<meta name="twitter:creator" content="@Model.TwitterCreator" />

<!-- Additional SEO -->
<meta name="language" content="@Model.Language" />
<meta name="theme-color" content="#0066ff" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

@if (!string.IsNullOrWhiteSpace(Model.JsonLd))
{
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    @Html.Raw(Model.JsonLd)
    </script>
}
