@inject Microsoft.Extensions.Configuration.IConfiguration Configuration
@{
    ViewData["Title"] = "Contact Us";
    var web3FormsKey = Configuration["Web3Forms:AccessKey"];
}

<section class="marketing-hero">
    <div class="absolute inset-0 opacity-5">
        <div class="absolute inset-0 hero-grid"></div>
    </div>

    <div class="marketing-container relative z-10">
        <div class="marketing-center mb-5">
            <div class="brand-chip">
                <img src="/img/stylowall.svg" alt="stylo bot mark" class="logo-adaptive" />
                <span class="brand-chip-label"><span class="stylo-text brand-italic">stylo</span><span class="bot-text">bot</span></span>
            </div>
            <h1 class="marketing-title mb-2">
                Talk With <span class="hero-accent-text">The Team</span>
            </h1>
            <p class="marketing-lead max-w-3xl mx-auto">
                Need rollout guidance, architecture review, or policy tuning? We help teams get StyloBot live quickly with clear detection outcomes.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-5 gap-6 items-start max-w-6xl mx-auto">
            <div class="lg:col-span-3">
                <div class="marketing-card bg-base-100 shadow-lg">
                    <div class="p-6 lg:p-8">
                        <div class="flex flex-wrap items-center justify-between gap-3 mb-5 pb-4 border-b border-base-300/70">
                            <h2 class="text-lg font-semibold text-base-content">Contact StyloBot</h2>
                            <div class="inline-flex items-center gap-2 text-xs text-base-content/70">
                                <span class="w-2 h-2 rounded-full live-dot"></span>
                                Typical first response in 24h
                            </div>
                        </div>

                        <div class="alert alert-success mb-5 hidden" id="success-message">
                            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-5 w-5" fill="none" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <div>
                                <h3 class="font-semibold text-sm">Message sent</h3>
                                <div class="text-xs">Thanks, we’ll reply as soon as possible.</div>
                            </div>
                        </div>

                        <form action="https://api.web3forms.com/submit" method="POST" class="space-y-5">
                            <input type="hidden" name="access_key" value="@web3FormsKey">
                            <input type="hidden" name="subject" value="New Contact Form Submission - stylobot">
                            <input type="hidden" name="redirect" value="https://stylobot.net/contact?success=true">
                            <input type="hidden" name="from_name" value="stylobot Contact Form">
                            <input type="checkbox" name="botcheck" class="hidden">

                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <label class="form-control">
                                    <span class="label-text text-sm font-semibold mb-1">Name <span class="text-error">*</span></span>
                                    <input type="text" name="name" placeholder="Jane Doe" class="input input-bordered w-full focus:input-primary" required />
                                </label>
                                <label class="form-control">
                                    <span class="label-text text-sm font-semibold mb-1">Email <span class="text-error">*</span></span>
                                    <input type="email" name="email" placeholder="jane@company.com" class="input input-bordered w-full focus:input-primary" required />
                                </label>
                            </div>

                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <label class="form-control">
                                    <span class="label-text text-sm font-semibold mb-1">Company</span>
                                    <input type="text" name="company" placeholder="Company name" class="input input-bordered w-full focus:input-primary" />
                                </label>
                                <label class="form-control">
                                    <span class="label-text text-sm font-semibold mb-1">Subject <span class="text-error">*</span></span>
                                    <input type="text" name="subject_line" placeholder="What do you need help with?" class="input input-bordered w-full focus:input-primary" required />
                                </label>
                            </div>

                            <label class="form-control">
                                <span class="label-text text-sm font-semibold mb-1">Message <span class="text-error">*</span></span>
                                <textarea name="message" placeholder="Share your stack, traffic profile, and goals. We’ll suggest a practical rollout path." class="textarea textarea-bordered h-36 w-full focus:textarea-primary" required></textarea>
                                <span class="label-text-alt text-base-content/60 mt-1">The more detail you provide, the more specific our recommendations can be.</span>
                            </label>

                            <div class="flex flex-col sm:flex-row sm:items-center gap-3 pt-2">
                                <button type="submit" class="btn gap-2 sm:min-w-[180px] shadow-md bg-primary border-primary text-primary-content hover:bg-primary hover:border-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" />
                                    </svg>
                                    Send Message
                                </button>
                                <p class="text-xs text-base-content/60">No spam, no mailing list auto-subscribe.</p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-2 space-y-4">
                <div class="marketing-card p-5 shadow-sm">
                    <h3 class="text-sm font-semibold mb-2 text-base-content flex items-center gap-2">
                        <i class="bx bx-bullseye hero-accent-text text-base"></i>
                        Best use of this form
                    </h3>
                    <ul class="text-xs text-base-content/70 space-y-2">
                        <li>Deployment planning for ASP.NET middleware, YARP, or gateway mode.</li>
                        <li>Policy design for block, challenge, throttle, and shadow mode rollout.</li>
                        <li>Enterprise evaluation and team onboarding support.</li>
                    </ul>
                </div>

                <div class="marketing-card p-5 shadow-sm">
                    <h3 class="text-sm font-semibold mb-2 text-base-content flex items-center gap-2">
                        <i class="bx bx-list-check hero-accent-text text-base"></i>
                        Useful context to include
                    </h3>
                    <ul class="text-xs text-base-content/70 space-y-2">
                        <li>Approximate monthly request volume.</li>
                        <li>Main abuse patterns you are seeing.</li>
                        <li>Current stack and decision points you need to automate.</li>
                    </ul>
                </div>

                <div class="grid grid-cols-1 gap-3">
                    <a href="https://github.com/scottgal/stylobot" target="_blank" class="marketing-card p-4 shadow-sm block hover:border-primary transition-colors">
                        <div class="text-sm font-semibold hero-accent-text mb-1 flex items-center gap-2">
                            <i class="bx bxl-github text-base"></i>
                            GitHub
                        </div>
                        <p class="text-xs text-base-content/70">Review source, issues, and implementation docs.</p>
                    </a>
                    <a href="/docs" class="marketing-card p-4 shadow-sm block hover:border-primary transition-colors">
                        <div class="text-sm font-semibold hero-accent-text mb-1 flex items-center gap-2">
                            <i class="bx bx-book-open text-base"></i>
                            Documentation
                        </div>
                        <p class="text-xs text-base-content/70">Integration guides, detector docs, and configuration reference.</p>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    // Show success message if redirected with ?success=true
    if (window.location.search.includes('success=true')) {
        const successMessage = document.getElementById('success-message');
        if (!successMessage) return;
        successMessage.classList.remove('hidden');
        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
</script>



